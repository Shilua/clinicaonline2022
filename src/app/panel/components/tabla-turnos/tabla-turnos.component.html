<input type="text" name="" [(ngModel)]="variable">
<table class="table table-info table-hover table-striped scale-up-ver-bottom">
    <thead>
        <tr>
            <th>{{'PATIENT' | translate}}</th>
            <th>{{'SPECIALIST' | translate}}</th>
            <th>{{'SPECIALTY' | translate}}</th>
            <th>{{'DATE' | translate}}</th>
            <th>{{'STATUS' | translate}}</th>
            <th>{{'ACTIONS' | translate}}</th>
        </tr>

    </thead>
    <tbody >
        <tr *ngFor="let turno of turnos |   filtro : variable" >
            <td>{{turno.paciente}}</td>
            <td>{{turno.especialista}}</td>
            <td>{{turno.especialidad}}</td>
            <td>{{turno.fecha }}</td>
            <td>{{turno.estado}}</td>
            <td *ngIf="user.profile == 'Paciente' else especialista">
                <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.estado != 'Realizado' && turno.estado != 'Cancelado'"
                        (click)="enviarAccion('cancelarTurno', turno)"
                        >
                        {{'CANCELTURN'| translate}}
                    </button>
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.resenia != ''"
                        (click)="enviarAccion('verResenia',turno)"
                        >
                        {{'SEEREVIEW'| translate}}
                    </button>
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.resenia != '' && turno.estado == 'Realizado'"
                        (click)="enviarAccion('completarEncuesta',turno)"
                        >
                        {{'COMPLETESURVEY'| translate}}
                    </button>
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.estado == 'Realizado' && turno.puntuacion == 0 "
                        (click)="enviarAccion('calificar',turno)"
                    >
                    {{'QUALIFYATTENTION'| translate}}
                    </button>
                  </div>
            </td>
            <ng-template #especialista>
                <td *ngIf="user.profile == 'Especialista' else admin">
                    <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.estado != 'Realizado' && turno.estado != 'Cancelado'"
                        (click)="enviarAccion('cancelarTurno', turno)"
                        >
                        {{'CANCELTURN'| translate}}
                    </button>
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.estado != 'Aceptado' && turno.estado != 'Cancelado' && turno.estado != 'Realizado'"
                        (click)="enviarAccion('rechazarTurno',turno)"
                        >
                        {{'REJECTTURN'| translate}}
                    </button>
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.estado != 'Realizado' && turno.estado != 'Rechazado' && turno.estado != 'Cancelado'"
                        (click)="enviarAccion('aceptarTurno',turno)"
                        >
                        {{'ACCEPTTURN'| translate}}
                    </button>
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.estado == 'Aceptado'"
                        (click)="enviarAccion('finalizarTurno',turno)"
                    >
                    {{'ENDTURN'| translate}}
                    </button>
                    <button 
                        type="button" 
                        class="btn btn-outline-dark" 
                        *ngIf="turno.resenia != '' && turno.estado == 'Realizado'"
                        (click)="enviarAccion('verResenia',turno)"
                    >
                    {{'SEEREVIEW'| translate}}
                    </button>
                  </div>
                </td>
            </ng-template>
            <ng-template #admin>
                <td>
                    <div class="btn-group btn-group-sm" role="group" aria-label="Small button group">
                        <button 
                            type="button" 
                            class="btn btn-outline-dark" 
                            *ngIf="turno.estado != 'Realizado' && turno.estado != 'Cancelado'"
                            (click)="enviarAccion('cancelarTurno', turno)"
                            >
                            {{'CANCELTURN'| translate}}
                        </button>
                    </div>
                </td>
            </ng-template>
        </tr>
        
    </tbody>
</table>